# 履歴を削除する
## 問題点
- 一つのカラムで状態管理などをすると、いつその状態が起こったのか分からなくなる
- 状態が行ったり来たりする場合はさらにその事実が失われる
- こういったことを知りたいときはたいていトラブル時なので、履歴を追えず終了...

## 解決策
- ちゃんと履歴を残すし、最新のものを使うようにする
- ただし、履歴のテーブルはサイズが膨れ上がり、集計が主キーではなくなるため、速度問題が起こりやすい

## 注意点
- 1カラムで管理するとき、トラブル時などに履歴を追う必要がないか？

## その他
- ログから遡ることもできるが、それはそれで大変。
- アプリケーションログを Elasticsearch などの分析ツールに保存しておくことで対応もできる
- 遅延レピリケーションでDBのレプリケーション時間を調整。ただしレプリケーション間に起こったものは保存されないので注意


参考: [失敗から学ぶRDBの正しい歩き方](https://www.amazon.co.jp/dp/B07P8PMHLL)
