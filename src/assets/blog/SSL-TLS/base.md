# SSL/TLS
- SSL: Secure Socket Layer
- TLS: Transport Layer Security

- HTTPS は HTTP + SSL
プロトコルに SSL を組み合わせることで通信が暗号化される。
なので、 FTP + SSL で FTPS、SMTP + SSL で SMTPS になる。

## SSL に必要なもの
• 秘密鍵(xxx.key)
• CSR: Certificate Signing Request(xxx.csr)
認証局に対して「こういう内容 で SSL 証明書を作って署名してください」とリクエストする、申請書のようなもの

• SSL 証明書(ssl. 自分のドメイン名.crt)
• 中間 CA 証明書(ca-bundle.ca)
• SSL 証明書+中間 CA 証明書(xxx.crt)

## SSL 証明書の取得・設定手順
1. サーバで秘密鍵を作る
2. 秘密鍵から CSR(証明書署名リクエスト)を作る
3. CSR を認証局に渡して SSL 証明書の発行を依頼
4. TXT レコードを作って DNS 認証
5. メールで SSL 証明書と中間 CA 証明書が届く
6. SSL 証明書と中間 CA 証明書をサーバにアップして 1 ファイルにまとめる 
7. NGINX で HTTPS のバーチャルホストを作る

## SSL の 3 仕事
• なりすまし防止
- example.com へのリクエストに対して、レスポンスを返してきたのが、本当に example.com であることを認証する

• データ改ざん防止
- イグザンプル銀行のウェブサイトで入力した振込先の情報が、サーバに届くまでに他の振込先に書き換えられていないことを確認する
– リクエストに対して返ってきた残高のページが、クライアントまでの途中経路で改ざんされていないことを確認する
• 情報漏洩防止
– サーバへ送信した ID やパスワード、振込先の情報などが第三者に見られないよう暗号化して保護する
– 入出金の明細がサーバからクライアントへ届くまでの間に、第三者に見られないよう暗号化して保護する
